from random import randint
from tqdm import tqdm
from mlflow import log_param, set_tracking_uri, start_run
import sys

N = 100

IS_CI_RUN = sys.argv[1] if len(sys.argv) > 1 else False
if IS_CI_RUN:
    url = "http://mlflow:5002"
else:
    url = "http://127.0.0.1:5002"

set_tracking_uri(url) 

for n in tqdm(range(N), total=N):
    with start_run():
        log_param("param1", randint(0, 100))